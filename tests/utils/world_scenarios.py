import numpy as np
from mdgym.utils.map_postprocessing import invert_array

OPERATIONAL_MAP1 = np.array(
    [[0, 0, 0, 0, 1, 1, 1, 1, 0, 0],
     [0, 0, 0, 0, 1, 1, 1, 1, 0, 0],
     [1, 1, 1, 1, 1, 1, 1, 1, 0, 0],  #
     [1, 1, 1, 1, 1, 1, 1, 1, 0, 0],  #
     [0, 0, 0, 1, 1, 1, 1, 1, 0, 0],
     [0, 0, 0, 0, 1, 1, 1, 1, 0, 0],
     [1, 1, 1, 0, 1, 1, 1, 1, 0, 0],
     [1, 1, 1, 0, 1, 1, 1, 1, 1, 0],
     [0, 0, 0, 0, 1, 1, 1, 1, 1, 0],
     [0, 0, 0, 0, 1, 1, 1, 1, 1, 1]])

OPERATIONAL_MAP2 = np.array(
    [[1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 1, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 1, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 1, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 0, 1, 1, 1, 1, 1, 0],
     [1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 0, 1, 0, 0, 1, 1, 0],
     [1, 1, 1, 0, 1, 0, 0, 1, 1, 1]])

DRONE1_LOCATION1 = (3, 3, 0)
DRONE1_LOCATION2 = (4, 5, 0)
DRONE1_LOCATION3 = (np.shape(OPERATIONAL_MAP1)[0] - 1, np.shape(OPERATIONAL_MAP1)[1] - 1, 0)

DRONE_STATES = [DRONE1_LOCATION1, DRONE1_LOCATION2, DRONE1_LOCATION3]

DRONE_POSITIONS = [(DRONE1_LOCATION1[0], DRONE1_LOCATION1[1]),
                   (DRONE1_LOCATION2[0], DRONE1_LOCATION2[1]),
                   (DRONE1_LOCATION3[0], DRONE1_LOCATION3[1])]

ACTOR1_LOCATION1 = (7, 5, 0)
ACTOR2_LOCATION1 = (7, 3, 0)
ACTOR3_LOCATION1 = (7, 9, 0)

ACTOR_POSITIONS = [(ACTOR1_LOCATION1[0], ACTOR1_LOCATION1[1]),
                   (ACTOR2_LOCATION1[0], ACTOR2_LOCATION1[1]),
                   (ACTOR3_LOCATION1[0], ACTOR3_LOCATION1[1])]

# noinspection DuplicatedCode
OBS_MAP1_DRONE1_LOC1 = np.array([
    [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1],  # Obstacle Map
     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
     [1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
     [1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
     [1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
     [1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
     [1, 1, 0, 0, 0, 1, 0, 0, 0, 0],
     [1, 1, 0, 0, 0, 1, 0, 0, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # Agents (DRONES + ACTORS)Position Map
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # Actors Position Projected Map (Drone goals positions)
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # This is without projection
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # Contains all the actor location even the one that current drone is following
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 1, 0, 1, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # Actors Position Projected Map (Drone goals positions)
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # This is without projection
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 1, 0, 1, 0, 0]]
])
# noinspection DuplicatedCode
OBS_MAP1_DRONE1_LOC2 = np.array([
    [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
     [1, 1, 1, 1, 0, 0, 0, 0, 1, 1],
     [1, 1, 1, 1, 0, 0, 0, 0, 1, 1],
     [0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
     [0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
     [1, 1, 1, 0, 0, 0, 0, 0, 1, 1],
     [1, 1, 1, 1, 0, 0, 0, 0, 1, 1],
     [0, 0, 0, 1, 0, 0, 0, 0, 1, 1],
     [0, 0, 0, 1, 0, 0, 0, 0, 0, 1],
     [1, 1, 1, 1, 0, 0, 0, 0, 0, 1]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 1, 0, 1, 0, 0, 0, 1],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 1, 0, 1, 0, 0, 0, 1],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]
])
# noinspection DuplicatedCode
OBS_MAP1_DRONE1_LOC3 = np.array([
    [[0, 0, 0, 0, 1, 1, 1, 1, 1, 1],
     [0, 0, 0, 0, 1, 1, 1, 1, 1, 1],
     [0, 0, 0, 0, 1, 1, 1, 1, 1, 1],
     [0, 0, 0, 0, 0, 1, 1, 1, 1, 1],
     [0, 0, 0, 0, 0, 1, 1, 1, 1, 1],
     [0, 0, 0, 0, 0, 0, 1, 1, 1, 1],
     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
     [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]],

    [[0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 1, 0, 0, 0, 1, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],

    [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 1, 0, 0, 0, 1, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]
])

OBS_MAP1_DRONE1_LOCS = [OBS_MAP1_DRONE1_LOC1, OBS_MAP1_DRONE1_LOC2, OBS_MAP1_DRONE1_LOC3]

if __name__ == "__main__":
    print(invert_array(OPERATIONAL_MAP1))
